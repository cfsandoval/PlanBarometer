{
  "version": 2,
  "name": "planbarometro-cepal",

  // Construcci√≥n moderna
  "buildCommand": "npm run build",
  "outputDirectory": "dist/public",

  // Define solo Functions (sin 'builds')
  "functions": {
    "server/index.ts": {
      "maxDuration": 15,
      "memory": 512,
      "includeFiles": ["shared/**", "server/**"]
    }
  },

  // Rewrites equivalentes a tus routes
  "rewrites": [
    { "source": "/api/:path*", "destination": "/server/index.ts" }
  ],

  "env": {
    "NODE_ENV": "production"
  }
}
